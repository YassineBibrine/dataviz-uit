# Code Generator & Parser - Architecture Diagram

```
???????????????????????????????????????????????????????????????????????????
?   DataViz UIT Application        ?
???????????????????????????????????????????????????????????????????????????
?          ?
?  ??????????????????????????????????????????????????????????????????    ?
?  ?    Main Window          ?  ?
?  ?  ?    ?
?  ?  Menu Bar: [File] [Tools] [Help]   ?    ?
?  ?        ?   ?    ?
?  ?      [Tools]          ?    ?
?  ?       ?     ?    ?
?  ?      ??????????????                ?    ?
?  ?          ? Code Generator & Parser... ? ???? NEW FEATURE      ?    ?
?  ?       ??????????????  ?    ?
?  ????????????????????????????????????????????????????????????????    ?
?         ?         ?
?  ? Opens Dialog      ?
?       ?       ?
?  ?????????????????????????????????????????????????????????????????    ?
?  ?           Code Generator Dialog (Qt)                ?    ?
?  ?????????????????????????????????????????????????????????????????    ?
?  ?                ?    ?
?  ? ???????????????????????????????????????????????????????????  ?    ?
?  ? ? TAB 1: Generate Code             ?  ?    ?
?  ? ???????????????????????????????????????????????????????????  ?    ?
?  ? ?         ?  ?    ?
?  ? ?  Select Structure: [Dropdown ?]            ?  ? ?
?  ? ?  ? Include Comments          ?  ?    ?
?  ? ?         ?  ?    ?
?  ? ?  [Generate C++ Code] ??????????????             ?  ?    ?
?  ? ?          ?  ?  ?    ?
?  ? ?  ???????????????????????????????? ?           ?  ? ?
?  ? ?  ? Generated Code Output        ? ?       ?  ?    ?
?  ? ?  ? ??????????????????????????   ? ?     ?  ?    ?
?  ? ?  ? ? #include <iostream>    ?   ? ?  ?  ?    ?
?  ? ?  ? ? int main() { ... }     ?   ? ?       ?  ?    ?
?  ? ?  ? ??????????????????????????   ? ?               ?  ?    ?
?  ? ?  ???????????????????????????????? ?  ?  ?    ?
?  ? ?     ?    ?  ?    ?
?  ? ?  [Copy to Clipboard]               ?          ?  ??
?  ? ?           ?      ?          ?  ?    ?
?  ? ????????????????????????????????????????????????????????????  ?    ?
?  ?   ?      ?   ?    ?
?  ?    ?     ?     ?    ?
?  ? ????????????????????????????????????????????????????????????  ?    ?
?  ? ? TAB 2: Parse Code      ?        ?  ?    ?
?  ? ????????????????????????????????????????????????????????????  ?    ?
?  ? ? ?    ?  ?    ?
?  ? ?  ???????????????????????????????? ?   ?  ?    ?
?  ? ?  ? Input C++ Code          ? ?         ?  ?    ?
?  ? ?  ? ??????????????????????????   ? ?       ?  ?    ?
?  ? ?  ? ? // Paste code here     ?   ? ?           ?  ??
?  ? ?  ? ? vector<int> arr = {...}?   ? ?       ?  ?    ?
?  ? ?  ? ??????????????????????????   ? ?             ?  ?    ?
?  ? ?  ???????????????????????????????? ??  ?    ?
?  ? ?       ?        ?  ?    ?
?  ? ?  [Parse & Create Structure] ???????      ?  ?    ?
?  ? ?             ?     ?  ?    ?
?  ? ? ?     ?  ?    ?
?  ? ?  ????????????????????????????????            ?  ?    ?
?  ? ?  ? Parse Result?        ?  ?    ?
?  ? ?  ? ? Parse Successful!     ?           ?  ?    ?
?  ? ?  ? Type: Array           ?       ?  ?    ?
?  ? ?  ? Values: 1, 2, 3, 4, 5        ?           ?  ?    ?
?  ? ?  ???????????????????????????????? ?  ?    ?
?  ? ?      ?  ?    ?
?  ? ????????????????????????????????????????????????????????????  ?    ?
?  ?       ?    ?
?  ?          [Close]          ?    ?
?  ???????????????????????????????????????????????????????????????????    ?
?  ?   ?
?   ?            ?
????????????????????????????????????????????????????????????????????????????
     ?
 ?
        ???????????????????????????????????????????????
        ?    Backend Processing Layer ?
        ???????????????????????????????????????????????
        ?          ?
 ?  ???????????????????????????????????????   ?
        ?  ?  CODE GENERATION PATH      ?   ?
        ?  ???????????????????????????????????????   ?
     ?  ?        ?   ?
        ?  ?  DataModelManager    ?   ?
    ?  ?         ?      ?   ?
?  ?  ?          ?   ?
?  ?  getStructure(id)       ?   ?
        ?  ?   ?    ?   ?
?  ?  ?    ?   ?
        ?  ?  DataStructure*   ?   ?
   ?  ?    (Array/List/Tree/Graph)     ?   ?
        ?  ?      ?    ?   ?
        ?  ?       ?            ?   ?
        ?  ?  StructureCodeGenerator     ?   ?
        ?  ?    ::generateCode()     ?   ?
        ?  ?         ?     ?   ?
        ?  ?         ??? generateArrayCode()     ?   ?
        ?  ?    ??? generateListCode()    ?   ?
        ?  ?         ??? generateTreeCode()   ?   ?
   ?  ?         ??? generateGraphCode()     ?   ?
        ?  ?        ?     ?   ?
    ?  ?            ?           ? ?
   ?  ?         std::string      ?   ?
        ?  ?         (C++ Code)   ??
        ??                ?          ?   ?
        ?  ?     ?    ?   ?
        ?  ?    Display in Dialog   ?   ?
        ?  ?   ?   ?
        ?  ???????????????????????????????????????   ?
        ?       ?
        ?  ???????????????????????????????????????   ?
        ?  ?  CODE PARSING PATH?   ?
        ?  ???????????????????????????????????????   ?
  ?  ?      ?   ?
 ?  ?  User Input (C++ Code String)  ?   ?
        ?  ?         ?  ?   ?
     ?  ?    ?           ?   ?
        ?  ?  CodeStructureParser     ?   ?
        ?  ?::parse(code)           ?   ?
        ?  ?     ?          ?   ?
        ?  ?       ?       ?   ?
        ?  ?  detectStructureType()      ?   ?
        ?  ?    (Regex Pattern Matching)  ?   ?
        ?  ?   ?           ?   ?
        ?  ?         ??? Array?   ? parseArray() ?   ?
      ?  ?         ??? List?    ? parseList()  ?   ?
        ?  ???? Tree?    ? parseTree()  ?   ?
        ?  ?         ??? Graph?   ? parseGraph() ?   ?
        ?  ?  ?       ?   ?
        ?  ?  ?             ?   ?
?  ?       ParsedStructure {    ?   ?
     ?  ?         type,        ?   ?
        ?  ?         values,     ?   ?
        ?  ?         nodeValues, ?   ?
        ?  ?    edges       ?   ?
        ?  ?       }      ?   ?
        ?  ?  ?           ?   ?
     ?  ?      ?          ?   ?
     ?  ?  DataModelManager     ?   ?
        ?  ?::buildStructureFromNodes()      ?   ?
        ?  ? ?        ?   ?
        ?  ?           ?           ?   ?
   ?  ?  Create Structure Instance          ?   ?
        ?  ?    (ArrayStructure/     ?   ?
   ?  ?  ListStructure/      ?   ?
        ?  ?   TreeStructure/       ?   ?
        ?  ?     GraphStructure) ?   ?
      ?  ?   ?               ?   ?
        ?  ?          ?  ?   ?
   ?  ?  Add to structures map   ?   ?
        ?  ?  with unique ID   ?   ?
        ?  ?       ?                 ?   ?
        ?  ?   ?          ?   ?
        ?  ?  Return structure ID ?   ?
        ?  ?          ?  ?   ?
        ?  ?      ?     ?   ?
 ?  ?  Signal: structureCreatedFromCode   ?   ?
        ?  ?       ?          ?   ?
        ?  ???????????????????????????????????????   ?
        ?        ?               ?
 ???????????????????????????????????????????????
    ?
       ?
        ???????????????????????????????????????????????
        ?    UI Update & Visualization  ?
        ???????????????????????????????????????????????
        ?        ?
?  StructureSelector::refreshStructureList()  ?
        ?         ?  ?
        ?         ?       ?
 ?  Display new structure in list     ?
        ?  "Parsed Array [Array] ?"         ?
        ?         ?              ?
        ?         ?      ?
        ?  Auto-select structure         ?
    ?  ?  ?
      ?         ?            ?
        ?  VisualizationPane::updateDisplay()       ?
  ?         ?            ?
        ?     ?           ?
        ?  Render structure visualization             ?
        ?         ?   ?
     ?     ?                   ?
        ?  ToolboxPanel::updateTools()        ?
        ?         ? ?
   ?         ?    ?
        ?  Show appropriate tools for type            ?
     ?         ?   ?
        ?         ?   ?
 ?  Ready for algorithm execution!   ?
        ?      ?
      ???????????????????????????????????????????????


???????????????????????????????????????????????????????????????????????
              DATA FLOW SUMMARY
???????????????????????????????????????????????????????????????????????

GENERATE CODE:
User ? Select Structure ? Click Generate
     ? Get Structure from Manager
     ? Generate Code (pattern-based)
     ? Display Code
     ? Copy to Clipboard
     ? Done!

PARSE CODE:
User ? Paste Code ? Click Parse
     ? Detect Type (regex)
     ? Extract Values/Nodes/Edges
     ? Create Structure in Manager
     ? Update UI (Selector + Visualization)
     ? Ready for Algorithms!

???????????????????????????????????????????????????????????????????????


KEY COMPONENTS:
???????????????????????????????????????????????????????????????
? CodeGeneratorDialog ? Qt dialog with two tabs          ?
? StructureCodeGenerator   ? Generates C++ code from structs  ?
? CodeStructureParser      ? Parses C++ code to structs       ?
? DataModelManager         ? Manages structure instances      ?
? VisualizationPane        ? Visualizes structures            ?
? StructureSelector        ? Lists all structures      ?
???????????????????????????????????????????????????????????????


REGEX PATTERNS USED:
???????????????????????????????????????????????????????????????
? Array:     =\s*\{\s*([0-9\s,]+)\s*\}           ?
? List:         new\s+Node\s*\(\s*(\d+)\s*\)            ?
? Tree:    insert\s*\(\s*\w+\s*,\s*(\d+)\s*\)            ?
? Graph Node:   addNode\s*\(\s*\"([^\"]+)\"\s*\)   ?
? Graph Edge:   addEdge\s*\(\s*\"([^\"]+)\"\s*,\s*\"([^\"]+)\" ?
???????????????????????????????????????????????????????????????


CODE GENERATION TEMPLATES:
???????????????????????????????????????????????????????????????
? Array    ? vector<int> initialization     ?
? List     ? Node struct + linked creation     ?
? Tree     ? TreeNode struct + BST insert         ?
? Graph    ? Graph class + adjacency list     ?
???????????????????????????????????????????????????????????????

```

## File Structure

```
dataviz-uit/
??? src/
???? codegen/  ??? NEW
?   ?   ??? structure_code_generator.h
?   ?   ??? structure_code_generator.cpp
?   ?   ??? code_structure_parser.h
?   ?   ??? code_structure_parser.cpp
?   ??? ui/
?   ?   ??? code_generator_dialog.h     ??? NEW
?   ?   ??? code_generator_dialog.cpp   ??? NEW
?   ?   ??? main_window.h    (modified)
?   ?   ??? main_window.cpp (modified)
?   ??? core/
?   ?   ??? data_model_manager.h
?   ?   ??? data_model_manager.cpp
?   ?   ??? ... (existing files)
?   ??? ...
??? CODE_GENERATOR_GUIDE.md    ??? NEW
??? CODE_GENERATOR_QUICKREF.md        ??? NEW
??? CODE_GENERATOR_EXAMPLES.md           ??? NEW
??? CODE_GENERATOR_IMPLEMENTATION.md     ??? NEW
??? FEATURE_COMPLETE.md           ??? NEW
??? ... (existing files)
```

## Integration Points

```
Main Application
 ?
    ??? Menu Bar (Tools Menu)
    ?       ??? Code Generator & Parser
 ?          ??? Opens Dialog
    ?
    ??? DataModelManager
    ?       ??? getStructure() ???? CODE GENERATION
    ?  ??? buildStructureFromNodes() ???? CODE PARSING
    ?
    ??? StructureSelector
    ?    ??? refreshStructureList() ???? Shows parsed structures
    ?
 ??? VisualizationPane
    ?       ??? updateDisplay() ???? Visualizes parsed structures
    ?
    ??? ToolboxPanel
            ??? updateTools() ???? Adapts to structure type
```

---

**END OF ARCHITECTURE DIAGRAM**
