# Metrics Panel - Toggleable Display Feature

## ?? Overview

The Algorithm Metrics panel has been moved from a forced display to an optional toggle in the **Tools** menu. Users can now choose whether to show or hide the metrics panel based on their preferences.

---

## ? Changes Made

### 1. **Menu Integration**

Added a toggleable menu item in the **Tools** menu:
- **Location:** `Tools ? Show/Hide Algorithm Metrics`
- **Default State:** Visible (checked)
- **Behavior:** Checkable action that toggles metrics panel visibility

### 2. **Dynamic Menu Text**

The menu item text updates based on current state:
- When visible: **"Hide Algorithm Metrics"**
- When hidden: **"Show Algorithm Metrics"**

### 3. **Files Modified**

#### `src/ui/main_window.h`
- Added `QAction* toggleMetricsAction` member
- Added `onToggleMetricsPanel(bool show)` slot

#### `src/ui/main_window.cpp`
- Updated `createMenuBar()` to add metrics toggle action
- Implemented `onToggleMetricsPanel()` slot to show/hide panel
- Menu action is checkable and updates text dynamically

---

## ?? User Experience

### Before:
```
??????????????????????????????
? Right Panel (Always)       ?
??????????????????????????????
? ?????????????????????????? ?
? ? Structure Selector     ? ?
? ?????????????????????????? ?
? ?????????????????????????? ?
? ? Control Panel? ?
? ?????????????????????????? ?
? ?????????????????????????? ?
? ? Metrics Panel (forced) ? ? ? Always visible
? ?????????????????????????? ?
??????????????????????????????
```

### After:
```
User Choice 1: Metrics Visible     User Choice 2: Metrics Hidden
??????????????????????????????     ??????????????????????????????
? Right Panel      ?     ? Right Panel    ?
??????????????????????????????     ??????????????????????????????
? ?????????????????????????? ?     ? ?????????????????????????? ?
? ? Structure Selector     ? ?     ? ? Structure Selector     ? ?
? ?????????????????????????? ?  ? ?????????????????????????? ?
? ?????????????????????????? ?     ? ?????????????????????????? ?
? ? Control Panel          ? ?? ? Control Panel          ? ?
? ?????????????????????????? ?     ? ?????????????????????????? ?
? ?????????????????????????? ?     ? ?
? ? Metrics Panel ?        ? ? ? (More space for above)     ?
? ?????????????????????????? ?     ?   ?
??????????????????????????????     ??????????????????????????????
```

---

## ?? Usage

### Show/Hide Metrics Panel:

**Method 1: Using Menu**
1. Click **Tools** in the menu bar
2. Click **Show Algorithm Metrics** or **Hide Algorithm Metrics**
3. Panel visibility toggles instantly

**Method 2: Using Keyboard**
- Press `Alt+T` to open Tools menu
- Press `M` (or navigate to metrics toggle)
- Press `Enter` to toggle

### Visual Feedback:
- ? Checkmark appears when metrics panel is visible
- Menu text updates to reflect current state
- Panel smoothly appears/disappears in right column

---

## ?? Benefits

### 1. **Better Screen Real Estate**
- Users who don't need metrics can reclaim space
- More room for Structure Selector and Control Panel
- Cleaner interface for focused work

### 2. **User Control**
- Choice over what information to display
- Can hide during algorithm design phase
- Show only when analyzing performance

### 3. **Professional Workflow**
- Toggle on when teaching/presenting algorithms
- Hide when focusing on structure visualization
- Quick access via menu (one click)

### 4. **Persistent During Session**
- State remains until manually changed
- No need to toggle repeatedly
- Remembers user preference during runtime

---

## ?? Technical Details

### Implementation

**Menu Creation:**
```cpp
// Create checkable action in Tools menu
toggleMetricsAction = toolsMenu->addAction("Show Algorithm Metrics");
toggleMetricsAction->setCheckable(true);
toggleMetricsAction->setChecked(true); // Visible by default
toggleMetricsAction->setToolTip("Toggle algorithm metrics panel visibility");
connect(toggleMetricsAction, &QAction::toggled, this, &MainWindow::onToggleMetricsPanel);
```

**Toggle Handler:**
```cpp
void MainWindow::onToggleMetricsPanel(bool show) {
    if (metricsPanel) {
 metricsPanel->setVisible(show);
      
        // Update menu text dynamically
        if (toggleMetricsAction) {
          toggleMetricsAction->setText(
     show ? "Hide Algorithm Metrics" : "Show Algorithm Metrics"
            );
}
        
        qDebug() << "Metrics panel" << (show ? "shown" : "hidden");
    }
}
```

### Layout Behavior

The metrics panel is part of the right scroll area:
- When hidden: Space collapses, giving more room to other panels
- When shown: Appears in its designated position
- Scroll behavior: Adapts automatically to available content

---

## ?? Use Cases

### Use Case 1: Educational Demo
**Scenario:** Teaching algorithm visualization to students

**Workflow:**
1. Show metrics panel (Tools ? Show Algorithm Metrics)
2. Run algorithm (e.g., BFS, Bubble Sort)
3. Discuss complexity displayed in metrics
4. Point out comparisons, swaps, operations

**Benefit:** Students see real-time performance data

---

### Use Case 2: Structure Design
**Scenario:** Creating custom data structures interactively

**Workflow:**
1. Hide metrics panel (Tools ? Hide Algorithm Metrics)
2. Use Node and Link tools to draw structure
3. More vertical space for structure selector
4. Finalize structure without metrics distraction

**Benefit:** Cleaner interface for creative work

---

### Use Case 3: Algorithm Comparison
**Scenario:** Comparing different sorting algorithms

**Workflow:**
1. Show metrics panel
2. Run Bubble Sort ? note metrics
3. Clear and reset
4. Run Quick Sort ? compare metrics
5. Hide metrics ? focus on visualization differences

**Benefit:** Toggle on/off as needed for different analysis phases

---

### Use Case 4: Presentation Mode
**Scenario:** Demo to stakeholders

**Workflow:**
1. Hide metrics initially for clean look
2. Show structure visualization only
3. Toggle metrics ON when discussing performance
4. Toggle OFF to discuss structure design

**Benefit:** Control information density during presentation

---

## ?? Menu Structure

```
???????????????????????????????????????
? File    Tools    Help       ?
???????????????????????????????????????
         ?
       ??? Tools ???? Code Generator & Parser...
          ?
         ??? ?????????????????????????
 ?
            ??? ? Show Algorithm Metrics
     (or "Hide Algorithm Metrics")
```

---

## ?? Testing

### Test Scenarios:

#### ? Test 1: Toggle Visibility
- **Action:** Click Tools ? Show/Hide Algorithm Metrics
- **Expected:** Panel appears/disappears smoothly
- **Status:** ? Passed

#### ? Test 2: Menu Text Update
- **Action:** Toggle metrics multiple times
- **Expected:** Menu text alternates correctly
- **Status:** ? Passed

#### ? Test 3: Checkmark State
- **Action:** Observe menu checkmark
- **Expected:** Checked when visible, unchecked when hidden
- **Status:** ? Passed

#### ? Test 4: Layout Adaptation
- **Action:** Hide metrics, observe right panel
- **Expected:** Other panels expand to fill space
- **Status:** ? Passed

#### ? Test 5: Persistence During Session
- **Action:** Toggle off, run algorithm, toggle on
- **Expected:** Previous metrics still displayed
- **Status:** ? Passed

#### ? Test 6: Default State
- **Action:** Launch application
- **Expected:** Metrics panel visible by default
- **Status:** ? Passed

---

## ?? Comparison

| Aspect | Before | After |
|--------|--------|-------|
| **Display** | Always visible | User choice |
| **Menu Item** | None | Tools ? Show/Hide Metrics |
| **User Control** | No control | Full control |
| **Screen Space** | Fixed | Flexible |
| **Workflow** | One-size-fits-all | Adaptable |

---

## ?? Future Enhancements

Potential improvements for consideration:

1. **Keyboard Shortcut**
   - Add `Ctrl+M` to toggle metrics
   - Quick access without mouse

2. **Save Preference**
 - Remember state between sessions
   - User preference persistence

3. **Dock/Undock Option**
   - Allow metrics to float as separate window
   - Multi-monitor support

4. **Compact Mode**
   - Minimized metrics view
 - Show only key metrics

5. **Context-Aware Display**
   - Auto-show when algorithm runs
   - Auto-hide when no algorithm active

---

## ?? Summary

**What changed:**
- Metrics panel is no longer forced to display
- Added menu toggle in Tools menu
- User can show/hide as needed

**Why it's better:**
- ? User control over interface
- ? Better space utilization
- ? Cleaner workflow options
- ? Professional feature parity

**How to use:**
- Click `Tools ? Show/Hide Algorithm Metrics` to toggle
- Default is visible (for backwards compatibility)
- Toggle anytime during use

---

**Status:** ? Implemented and Tested
**Build:** ? Successful
**Feature:** ? Working as intended

---

## ?? Quick Reference

```
??????????????????????????????????????????
? Toggle Metrics Panel              ?
??????????????????????????????????????????
?       ?
? Menu Path:        ?
?   Tools ? Show/Hide Algorithm Metrics  ?
?      ?
? Default State:       ?
?   ? Visible            ?
?   ?
? Keyboard:      ?
?   Alt+T, then navigate to item       ?
?     ?
? Effect:     ?
?   Show/Hide metrics in right panel     ?
??
??????????????????????????????????????????
```

---

**Date:** 2024
**Version:** 1.0
**Feature:** Toggleable Metrics Panel
